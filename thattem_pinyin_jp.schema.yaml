# Rime schema
# encoding: utf-8

schema:
  schema_id: thattem_pinyin_jp
  name: 日文辅助
  version: '0.0.0'
  author:
    - thattemperature <2719023332@qq.com>
  description:
    拼音输入法的日文辅助

switches:
  - name: ascii_mode
    states: [ 有输入法, 无输入法 ]
  - name: ascii_punct
    states: [ 复杂标点, 简单标点 ]
  - name: full_shape
    states: [ 半角标点, 全角标点 ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
  filters:
    - uniquifier

recognizer:
  import_preset: default

key_binder:
  import_preset: default

speller:
  alphabet: 'zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA-'
  initials: 'zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA'
  finals: '-'
  delimiter: " '"
  algebra:

    # 平假名转罗马字

    # 促音拗音
    # か
    - xform/っきゃ/kkya/
    - xform/っきゅ/kkyu/
    - xform/っきょ/kkyo/
    - xform/っぎゃ/ggya/
    - xform/っぎゅ/ggyu/
    - xform/っぎょ/ggyo/
    # し
    - xform/っしゃ/ssha/
    - xform/っしゅ/sshu/
    - xform/っしょ/ssho/
    - xform/っじゃ/jja/
    - xform/っじゅ/jju/
    - xform/っじょ/jjo/
    # ち
    - xform/っちゃ/ccha/
    - xform/っちゅ/cchu/
    - xform/っちょ/ccho/
    - xform/っぢゃ/jja/
    - xform/っぢゅ/jju/
    - xform/っぢょ/jjo/
    # て
    - xform/ってゃ/ttya/
    - xform/ってゅ/ttyu/
    - xform/ってょ/ttyo/
    - xform/っでゃ/ddya/
    - xform/っでゅ/ddyu/
    - xform/っでょ/ddyo/
    # ひ
    - xform/っひゃ/hhya/
    - xform/っひゅ/hhyu/
    - xform/っひょ/hhyo/
    - xform/っびゃ/bbya/
    - xform/っびゅ/bbyu/
    - xform/っびょ/bbyo/
    - xform/っぴゃ/ppya/
    - xform/っぴゅ/ppyu/
    - xform/っぴょ/ppyo/
    # ふ
    - xform/っふゃ/ffya/
    - xform/っふゅ/ffyu/
    - xform/っふょ/ffyo/
    # り
    - xform/っりゃ/rrya/
    - xform/っりゅ/rryu/
    - xform/っりょ/rryo/
    # 促音
    # か
    - xform/っか/kka/
    - xform/っき/kki/
    - xform/っく/kku/
    - xform/っけ/kke/
    - xform/っこ/kko/
    - xform/っが/gga/
    - xform/っぎ/ggi/
    - xform/っぐ/ggu/
    - xform/っげ/gge/
    - xform/っご/ggo/
    # さ
    - xform/っさ/ssa/
    - xform/っし/sshi/
    - xform/っす/ssu/
    - xform/っせ/sse/
    - xform/っそ/sso/
    - xform/っざ/zza/
    - xform/っじ/jji/
    - xform/っず/zzu/
    - xform/っぜ/zze/
    - xform/っぞ/zzo/
    # た
    - xform/った/tta/
    - xform/っち/cchi/
    - xform/っつ/ttsu/
    - xform/って/tte/
    - xform/っと/tto/
    - xform/っだ/dda/
    - xform/っぢ/jji/
    - xform/っづ/zzu/
    - xform/っで/dde/
    - xform/っど/ddo/
    # は
    - xform/っは/hha/
    - xform/っひ/hhi/
    - xform/っふ/ffu/
    - xform/っへ/hhe/
    - xform/っほ/hho/
    - xform/っば/bba/
    - xform/っび/bbi/
    - xform/っぶ/bbu/
    - xform/っべ/bbe/
    - xform/っぼ/bbo/
    - xform/っぱ/ppa/
    - xform/っぴ/ppi/
    - xform/っぷ/ppu/
    - xform/っぺ/ppe/
    - xform/っぽ/ppo/
    # ら
    - xform/っら/rra/
    - xform/っり/rri/
    - xform/っる/rru/
    - xform/っれ/rre/
    - xform/っろ/rro/
    # 拗音
    # き
    - xform/きゃ/kya/
    - xform/きゅ/kyu/
    - xform/きょ/kyo/
    - xform/ぎゃ/gya/
    - xform/ぎゅ/gyu/
    - xform/ぎょ/gyo/
    # し
    - xform/しゃ/sha/
    - xform/しゅ/shu/
    - xform/しょ/sho/
    - xform/じゃ/ja/
    - xform/じゅ/ju/
    - xform/じょ/jo/
    # ち
    - xform/ちゃ/cha/
    - xform/ちゅ/chu/
    - xform/ちょ/cho/
    - xform/ぢゃ/ja/
    - xform/ぢゅ/ju/
    - xform/ぢょ/jo/
    # て
    - xform/てゃ/tya/
    - xform/てゅ/tyu/
    - xform/てょ/tyo/
    - xform/でゃ/dya/
    - xform/でゅ/dyu/
    - xform/でょ/dyo/
    # に
    - xform/にゃ/nya/
    - xform/にゅ/nyu/
    - xform/にょ/nyo/
    # ひ
    - xform/ひゃ/hya/
    - xform/ひゅ/hyu/
    - xform/ひょ/hyo/
    - xform/びゃ/bya/
    - xform/びゅ/byu/
    - xform/びょ/byo/
    - xform/ぴゃ/pya/
    - xform/ぴゅ/pyu/
    - xform/ぴょ/pyo/
    # ふ
    - xform/ふゃ/fya/
    - xform/ふゅ/fyu/
    - xform/ふょ/fyo/
    # み
    - xform/みゃ/mya/
    - xform/みゅ/myu/
    - xform/みょ/myo/
    # り
    - xform/りゃ/rya/
    - xform/りゅ/ryu/
    - xform/りょ/ryo/
    # 单音
    # あ
    - xform/あ/a/
    - xform/い/i/
    - xform/う/u/
    - xform/え/e/
    - xform/お/o/
    # か
    - xform/か/ka/
    - xform/き/ki/
    - xform/く/ku/
    - xform/け/ke/
    - xform/こ/ko/
    - xform/が/ga/
    - xform/ぎ/gi/
    - xform/ぐ/gu/
    - xform/げ/ge/
    - xform/ご/go/
    # さ
    - xform/さ/sa/
    - xform/し/shi/
    - xform/す/su/
    - xform/せ/se/
    - xform/そ/so/
    - xform/ざ/za/
    - xform/じ/ji/
    - xform/ず/zu/
    - xform/ぜ/ze/
    - xform/ぞ/zo/
    # た
    - xform/た/ta/
    - xform/ち/chi/
    - xform/つ/tsu/
    - xform/て/te/
    - xform/と/to/
    - xform/だ/da/
    - xform/ぢ/ji/
    - xform/づ/zu/
    - xform/で/de/
    - xform/ど/do/
    # な
    - xform/な/na/
    - xform/に/ni/
    - xform/ぬ/nu/
    - xform/ね/ne/
    - xform/の/no/
    # は
    - xform/は/ha/
    - xform/ひ/hi/
    - xform/ふ/fu/
    - xform/へ/he/
    - xform/ほ/ho/
    - xform/ば/ba/
    - xform/び/bi/
    - xform/ぶ/bu/
    - xform/べ/be/
    - xform/ぼ/bo/
    - xform/ぱ/pa/
    - xform/ぴ/pi/
    - xform/ぷ/pu/
    - xform/ぺ/pe/
    - xform/ぽ/po/
    # ま
    - xform/ま/ma/
    - xform/み/mi/
    - xform/む/mu/
    - xform/め/me/
    - xform/も/mo/
    # や
    - xform/や/ya/
    - xform/ゆ/yu/
    - xform/よ/yo/
    # ら
    - xform/ら/ra/
    - xform/り/ri/
    - xform/る/ru/
    - xform/れ/re/
    - xform/ろ/ro/
    # わ
    - xform/わ/wa/
    - xform/を/wo/
    # 拨音
    - xform/ん/n/
    # 特殊促音
    - xform/っ/t/
    # 特殊长音
    - xform/ー/-/

    # 平假名转罗马字 结束

    # 省略元音
    - abbrev/([knmr])([aiueo])/$1/
    - abbrev/(s)([aueo])/$1/
    - abbrev/(sh)(i)/$1/
    - abbrev/(s)(hi)/$1/
    - abbrev/(t)([aeo])/$1/
    - abbrev/(ch)(i)/$1/
    - abbrev/(c)(hi)/$1/
    - abbrev/(ts)(u)/$1/
    - abbrev/(t)(su)/$1/
    - abbrev/(h)([aieo])/$1/
    - abbrev/(f)(u)/$1/
    - abbrev/(y)([auo])/$1/
    - abbrev/(w)([ao])/$1/
    - abbrev/([gbp])([aiueo])/$1/
    - abbrev/([zd])([aeo])/$1/
    - abbrev/(j)(i)/$1/
    - abbrev/(z)(u)/$1/

    # 末尾翻译器标记
    - derive/^(.*)$/$1`j/

punctuator:
  import_preset: default

translator:
  dictionary: thattem_pinyin_jp
